(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{151:(e,r,t)=>{"use strict";t.d(r,{H:()=>a});let a="https://matrimonial-backend-7ahc.onrender.com"},5784:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/manageusers/[id]",function(){return t(6508)}])},6508:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var a=t(7876),s=t(9099),n=t(4232),o=t(4587),i=t.n(o),l=t(8230),d=t.n(l);let c=e=>{let{title:r,data:t,twoColumn:s=!1}=e,n=s?t.reduce((e,r,a)=>(a%2==0&&e.push([r,t[a+1]]),e),[]):t;return(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-400",children:[r&&(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:r}),(0,a.jsxs)("table",{className:"w-full text-gray-700 text-[15px] border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100 text-left border-b border-gray-400",children:[(0,a.jsx)("th",{className:"p-3 font-medium border-r border-gray-300",children:"Data"}),(0,a.jsx)("th",{className:"p-3 font-medium border-r border-gray-300",children:"Info"}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("th",{className:"p-3 font-medium border-r border-gray-300",children:"Data"}),(0,a.jsx)("th",{className:"p-3 font-medium",children:"Info"})]})]})}),(0,a.jsx)("tbody",{children:s?n.map((e,r)=>{var t,s,n,o;return(0,a.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,a.jsx)("td",{className:"p-3 border-r border-gray-300",children:null==(t=e[0])?void 0:t[0]}),(0,a.jsx)("td",{className:"p-3 border-r border-gray-300",children:(null==(s=e[0])?void 0:s[1])||"N/A"}),(0,a.jsx)("td",{className:"p-3 border-r border-gray-300",children:(null==(n=e[1])?void 0:n[0])||""}),(0,a.jsx)("td",{className:"p-3",children:(null==(o=e[1])?void 0:o[1])||"N/A"})]},r)}):n.map((e,r)=>{let[t,s]=e;return(0,a.jsxs)("tr",{className:"border-t border-gray-300",children:[(0,a.jsx)("td",{className:"p-3 border-r border-gray-300",children:t}),(0,a.jsx)("td",{className:"p-3",children:s||"N/A"})]},r)})})]})]})},m=e=>{var r,t,s,o,l,d,m;let{user:h}=e,[u,x]=(0,n.useState)(h),g=async e=>{try{let r=localStorage.getItem("token"),t=await fetch("".concat("https://matrimonial-backend-7ahc.onrender.com","/admin/user-verify/").concat(u._id,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({adminApprovel:e})}),a=await t.json();a.success?(alert("Status updated successfully!"),x(a.user)):alert(a.message||"Something went wrong.")}catch(e){console.log(e),alert("API error")}};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-6 bg-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6 mb-10",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,a.jsx)("img",{src:u.profileImage||"/default-avatar.png",alt:"Profile",className:"w-28 h-28 rounded-full object-cover border"}),(0,a.jsx)("span",{className:"mt-2 px-4 py-1 rounded-full text-sm font-semibold capitalize \n              ".concat("approved"===u.adminApprovel?"bg-green-600 text-white":"reject"===u.adminApprovel?"bg-red-700 text-white":"bg-yellow-600 text-white"),children:u.adminApprovel})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h2",{className:"text-3xl font-bold",children:[u.firstName," ",u.lastName]}),(0,a.jsxs)("p",{className:"text-gray-500 text-lg font-medium",children:["#",null==(r=u._id)?void 0:r.slice(-6)," / ",u.gender]}),(0,a.jsxs)("p",{className:"flex items-center gap-2 text-gray-600 text-lg mt-1 font-medium",children:[(0,a.jsx)(i(),{src:"/location.png",width:18,height:20,alt:"Location"}),u.city]})]})]}),(0,a.jsx)(c,{title:"Personal Information",twoColumn:!0,data:[["Full Name","".concat(u.firstName," ").concat(u.lastName)],["Education",u.highestEducation],["DOB",(e=>{if(!e)return"N/A";let r=new Date(e);return isNaN(r)?"N/A":r.toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})})(u.dateOfBirth)],["Profession",u.designation||u.employedIn],["Gender",u.gender],["Income Range",u.annualIncome],["Marital Status",u.maritalStatus],["Height",u.height],["Religion",u.religion],["Mother Tongue",u.motherTongue]]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mt-8",children:[(0,a.jsx)(c,{title:"Family Background",data:[["Father Occ",u.fatherOccupation],["Mother Occ",u.motherOccupation],["Family Inc",u.familyIncome],["Brother",u.brother||"0"],["Family Type",u.familyType]]}),(0,a.jsx)(c,{title:"Career, Education",data:[["Post Grad",u.postGraduation],["Under Grad",u.underGraduation],["Employee In",u.employedIn],["Profession",u.designation||u.employedIn],["Company",u.company]]})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(c,{title:"Lifestyle & Hobbies",twoColumn:!0,data:[["Dietary Habit",u.diet],["Hobbies",(null==(t=u.hobbies)?void 0:t.join(", "))||"N/A"],["Drinking Habit",u.drinking],["Sports",(null==(s=u.sports)?void 0:s.join(", "))||"N/A"],["Assets","".concat(u.ownCar?"own a car":"").concat(u.ownCar&&u.ownHouse?", ":"").concat(u.ownHouse?"house":"")||"N/A"],["Interest",(null==(o=u.interests)?void 0:o.join(", "))||"N/A"],["Fav Vacation",(null==(l=u.vacationDestination)?void 0:l.join(", "))||"N/A"],["Fav Cuisine",(null==(d=u.cuisine)?void 0:d.join(", "))||"N/A"],["Fav Movie",(null==(m=u.movies)?void 0:m.join(", "))||"N/A"],["Fav Color",u.favoriteColor||"N/A"]]})}),(0,a.jsxs)("div",{className:"mt-12 flex justify-center gap-6",children:[(0,a.jsx)("button",{onClick:()=>g("approved"),className:"px-6 py-2 bg-green-600 text-white text-lg rounded-md shadow hover:bg-green-700",children:"Approve"}),(0,a.jsx)("button",{onClick:()=>g("reject"),className:"px-6 py-2 bg-red-600 text-white text-lg rounded-md shadow hover:bg-red-700",children:"Reject"})]})]})};var h=t(151);function u(){let e=(0,s.useRouter)(),{id:r}=e.query,[t,o]=(0,n.useState)(null),[i,l]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{r&&fetch("".concat(h.H,"/admin/user/").concat(r)).then(e=>{if(!e.ok)throw Error("User not found");return e.json()}).then(e=>o(e)).catch(()=>{l(!0),setTimeout(()=>e.push("/manageusers"),2e3)})},[r]),i)?(0,a.jsx)("div",{children:"User not found, redirecting..."}):t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d(),{href:"/manageusers",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("button",{className:"bg-gray-50 hover:bg-gray-100 rounded-md p-2",children:(0,a.jsx)("span",{className:"text-2xl cursor-pointer",children:"â†"})}),(0,a.jsx)("span",{children:"Back to Users"})]})}),(0,a.jsx)(m,{user:t})]}):(0,a.jsx)("div",{children:"Loading..."})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=5784)),_N_E=e.O()}]);