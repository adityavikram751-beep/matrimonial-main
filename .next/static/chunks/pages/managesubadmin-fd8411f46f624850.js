(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{2577:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(1713).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},8877:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/managesubadmin",function(){return s(9030)}])},8959:(e,a,s)=>{"use strict";s.d(a,{RH:()=>r,fN:()=>t});let r=["Can View User","Moderate Reports","Edit User Info","Block Reported Users","Access Analytics"],t=[{id:1,name:"Anupam Kumar",userId:"#112211",gender:"Male",avatar:"https://randomuser.me/api/portraits/men/75.jpg",email:"Anupam.xyz@gmail.com",phone:"+91 191919191919",role:"Report Moderator",status:"Active",lastActive:"Currently Active",date:"2 July, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Moderate Reports",enabled:!0},{name:"Edit User Info",enabled:!1},{name:"Block Reported Users",enabled:!1},{name:"Access Analytics",enabled:!1}]},{id:2,name:"Priya Sharma",userId:"#112212",gender:"Female",avatar:"https://randomuser.me/api/portraits/women/65.jpg",email:"priya.sharma@example.com",phone:"+91 9876543210",role:"Verification Officer",status:"Inactive",lastActive:"2 days ago",date:"5 June, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Verify Documents",enabled:!0},{name:"Edit User Info",enabled:!0},{name:"Block Reported Users",enabled:!1},{name:"Access Analytics",enabled:!1}]},{id:3,name:"Ravi Patel",userId:"#112213",gender:"Male",avatar:"https://randomuser.me/api/portraits/men/64.jpg",email:"ravi.patel@example.com",phone:"+91 9123456780",role:"Report Moderator",status:"Active",lastActive:"1 hour ago",date:"10 May, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Moderate Reports",enabled:!0},{name:"Block Reported Users",enabled:!0},{name:"Access Analytics",enabled:!1},{name:"Edit User Info",enabled:!1}]},{id:4,name:"Neha Verma",userId:"#112214",gender:"Female",avatar:"https://randomuser.me/api/portraits/women/55.jpg",email:"neha.verma@example.com",phone:"+91 9898989898",role:"Verification Officer",status:"Active",lastActive:"Currently Active",date:"15 May, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Verify Documents",enabled:!0},{name:"Edit User Info",enabled:!1},{name:"Block Reported Users",enabled:!1},{name:"Access Analytics",enabled:!0}]},{id:5,name:"Amit Singh",userId:"#112215",gender:"Male",avatar:"https://randomuser.me/api/portraits/men/85.jpg",email:"amit.singh@example.com",phone:"+91 9812312312",role:"Report Moderator",status:"Inactive",lastActive:"3 days ago",date:"1 April, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Moderate Reports",enabled:!0},{name:"Block Reported Users",enabled:!1},{name:"Access Analytics",enabled:!1},{name:"Edit User Info",enabled:!1}]},{id:6,name:"Sneha Rathi",userId:"#112216",gender:"Female",avatar:"https://randomuser.me/api/portraits/women/45.jpg",email:"sneha.rathi@example.com",phone:"+91 9823423432",role:"Verification Officer",status:"Active",lastActive:"Currently Active",date:"12 March, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Verify Documents",enabled:!0},{name:"Edit User Info",enabled:!0},{name:"Block Reported Users",enabled:!0},{name:"Access Analytics",enabled:!1}]},{id:7,name:"Karan Mehta",userId:"#112217",gender:"Male",avatar:"https://randomuser.me/api/portraits/men/66.jpg",email:"karan.mehta@example.com",phone:"+91 9012345678",role:"Report Moderator",status:"Active",lastActive:"15 mins ago",date:"1 Jan, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Moderate Reports",enabled:!0},{name:"Access Analytics",enabled:!0},{name:"Block Reported Users",enabled:!1},{name:"Edit User Info",enabled:!1}]},{id:8,name:"Divya Kapoor",userId:"#112218",gender:"Female",avatar:"https://randomuser.me/api/portraits/women/80.jpg",email:"divya.kapoor@example.com",phone:"+91 9988776655",role:"Verification Officer",status:"Inactive",lastActive:"1 week ago",date:"8 Feb, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Verify Documents",enabled:!0},{name:"Access Analytics",enabled:!0},{name:"Edit User Info",enabled:!0},{name:"Block Reported Users",enabled:!1}]},{id:9,name:"Rohit Malhotra",userId:"#112219",gender:"Male",avatar:"https://randomuser.me/api/portraits/men/99.jpg",email:"rohit.malhotra@example.com",phone:"+91 9871234567",role:"Report Moderator",status:"Active",lastActive:"2 hours ago",date:"25 Jan, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Moderate Reports",enabled:!0},{name:"Access Analytics",enabled:!1},{name:"Edit User Info",enabled:!1},{name:"Block Reported Users",enabled:!0}]},{id:10,name:"Tanvi Rao",userId:"#112220",gender:"Female",avatar:"https://randomuser.me/api/portraits/women/99.jpg",email:"tanvi.rao@example.com",phone:"+91 9988123412",role:"Verification Officer",status:"Active",lastActive:"Currently Active",date:"3 March, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Verify Documents",enabled:!0},{name:"Access Analytics",enabled:!1},{name:"Block Reported Users",enabled:!1},{name:"Edit User Info",enabled:!0}]},{id:11,name:"Sahil Khanna",userId:"#112221",gender:"Male",avatar:"https://randomuser.me/api/portraits/men/33.jpg",email:"sahil.khanna@example.com",phone:"+91 9878987898",role:"Report Moderator",status:"Inactive",lastActive:"5 days ago",date:"10 Feb, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Moderate Reports",enabled:!0},{name:"Access Analytics",enabled:!1},{name:"Block Reported Users",enabled:!1},{name:"Edit User Info",enabled:!1}]},{id:12,name:"Meera Nair",userId:"#112222",gender:"Female",avatar:"https://randomuser.me/api/portraits/women/30.jpg",email:"meera.nair@example.com",phone:"+91 9812456789",role:"Verification Officer",status:"Active",lastActive:"Currently Active",date:"18 June, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Verify Documents",enabled:!0},{name:"Access Analytics",enabled:!0},{name:"Edit User Info",enabled:!0},{name:"Block Reported Users",enabled:!1}]},{id:13,name:"Vikram Joshi",userId:"#112223",gender:"Male",avatar:"https://randomuser.me/api/portraits/men/91.jpg",email:"vikram.joshi@example.com",phone:"+91 9900990099",role:"Report Moderator",status:"Active",lastActive:"Currently Active",date:"30 June, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Moderate Reports",enabled:!0},{name:"Access Analytics",enabled:!0},{name:"Edit User Info",enabled:!0},{name:"Block Reported Users",enabled:!0}]},{id:14,name:"Nikita Desai",userId:"#112224",gender:"Female",avatar:"https://randomuser.me/api/portraits/women/39.jpg",email:"nikita.desai@example.com",phone:"+91 9080706050",role:"Verification Officer",status:"Inactive",lastActive:"10 days ago",date:"20 April, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Verify Documents",enabled:!0},{name:"Access Analytics",enabled:!1},{name:"Edit User Info",enabled:!1},{name:"Block Reported Users",enabled:!1}]},{id:15,name:"Arjun Chauhan",userId:"#112225",gender:"Male",avatar:"https://randomuser.me/api/portraits/men/10.jpg",email:"arjun.chauhan@example.com",phone:"+91 9123456711",role:"Report Moderator",status:"Active",lastActive:"4 hours ago",date:"15 July, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Moderate Reports",enabled:!0},{name:"Access Analytics",enabled:!1},{name:"Block Reported Users",enabled:!1},{name:"Edit User Info",enabled:!1}]},{id:16,name:"Shruti Bansal",userId:"#112226",gender:"Female",avatar:"https://randomuser.me/api/portraits/women/18.jpg",email:"shruti.bansal@example.com",phone:"+91 9012121212",role:"Verification Officer",status:"Active",lastActive:"Currently Active",date:"7 July, 2025",permissions:[{name:"Can View User",enabled:!0},{name:"Verify Documents",enabled:!0},{name:"Access Analytics",enabled:!0},{name:"Edit User Info",enabled:!0},{name:"Block Reported Users",enabled:!0}]}]},9030:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var r=s(7876),t=s(4232),n=s(2577);let l=()=>{let[e,a]=(0,t.useState)("");return(0,r.jsxs)("div",{className:"bg-white px-6 py-4 shadow-sm border-b fixed top-0 z-50 flex items-center justify-between",style:{left:"250px",width:"calc(100% - 250px)"},children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Sub Admin"}),(0,r.jsx)("div",{className:"flex items-center gap-5",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.A,{className:"h-7 w-7",color:"#FFC107"})," ",(0,r.jsx)("span",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-red-500 rounded-full border-2 border-white"})]})})]})};var i=s(3679),d=s(9099);let o=e=>{let{data:a,onView:s,onRemove:n}=e;(0,d.useRouter)();let[l,o]=(0,t.useState)(""),[c,m]=(0,t.useState)(""),[p,u]=(0,t.useState)(""),[h,x]=(0,t.useState)(1),b=(0,t.useMemo)(()=>a.filter(e=>{let a=e.userId.toLowerCase().includes(l.toLowerCase()),s=!c||e.status===c,r=!p||e.role===p;return a&&s&&r}),[a,l,c,p]),v=b.slice((h-1)*5,5*h),g=Math.ceil(b.length/5);return(0,r.jsxs)("div",{className:"bg-white border border-gray-400 rounded shadow p-4",children:[(0,r.jsxs)("div",{className:"flex border p-1 rounded  border-gray-400 shadow  flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search by User ID",value:l,onChange:e=>o(e.target.value),className:"border border-gray-300 focus:outline-0 px-3 py-2 rounded w-full sm:w-[20%]"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[(0,r.jsxs)("select",{value:c,onChange:e=>m(e.target.value),className:"border border-gray-300 bg-gray-200 cursor-pointer  p-1 rounded w-auto sm:w-auto",children:[(0,r.jsx)("option",{value:"",children:"Status"}),(0,r.jsx)("option",{value:"Active",children:" Active"}),(0,r.jsx)("option",{value:"Inactive",children:"Inactive"})]}),(0,r.jsxs)("select",{value:p,onChange:e=>u(e.target.value),className:"border border-gray-300 bg-gray-200 px-3 cursor-pointer py-2 rounded w-full sm:w-auto",children:[(0,r.jsx)("option",{value:"",children:"Role"}),(0,r.jsx)("option",{value:"Report Moderator",children:"Report Moderator"}),(0,r.jsx)("option",{value:"Verification Officer",children:"Verification Officer"})]})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-[700px] w-full border border-gray-400 text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100 text-left",children:[(0,r.jsxs)("th",{className:"px-3 py-2",children:["Sub Admin ",(0,r.jsx)(i.MjW,{className:"inline ml-1"})]}),(0,r.jsx)("th",{className:"px-3 py-2",children:"Email"}),(0,r.jsxs)("th",{className:"px-3 py-2",children:["Role ",(0,r.jsx)(i.MjW,{className:"inline ml-1"})]}),(0,r.jsx)("th",{className:"px-3 py-2",children:"Last Active"}),(0,r.jsx)("th",{className:"px-3 py-2",children:"Status"}),(0,r.jsx)("th",{className:"px-3 py-2",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:v.map(e=>(0,r.jsxs)("tr",{className:"border border-gray-400",children:[(0,r.jsx)("td",{className:"px-3 py-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("img",{src:e.avatar,className:"w-8 h-8 rounded-full"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[e.userId," / ",e.gender]})]})]})}),(0,r.jsx)("td",{className:"px-3 py-2",children:e.email}),(0,r.jsx)("td",{className:"px-3 py-2",children:e.role}),(0,r.jsx)("td",{className:"px-3 py-2",children:e.lastActive}),(0,r.jsxs)("td",{className:"px-3 py-2",children:[(0,r.jsx)("span",{className:"inline-block w-3 h-3 rounded-full mr-2 ".concat("Active"===e.status?"bg-green-700":"bg-red-500")}),e.status]}),(0,r.jsxs)("td",{className:"px-3 py-2 space-x-2",children:[(0,r.jsx)("button",{onClick:()=>s(e),className:"text-black hover:underline",children:"View"}),(0,r.jsx)("button",{onClick:()=>n(e.id),className:"text-white bg-red-500 px-2 py-1 rounded",children:"Remove"})]})]},e.id))})]})}),(0,r.jsx)("div",{className:"text-center mt-4 flex flex-wrap justify-center gap-2",children:Array.from({length:g}).map((e,a)=>(0,r.jsx)("button",{className:"px-3 py-1 rounded ".concat(h===a+1?"bg-black text-white":"bg-gray-200"),onClick:()=>x(a+1),children:a+1},a))})]})},c=e=>{let{user:a,onConfirm:s,onCancel:t}=e;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-5 rounded shadow w-[300px] text-center",children:[(0,r.jsxs)("p",{className:"mb-4 font-medium",children:["Are you sure you wanna remove ",(0,r.jsx)("br",{}),a.name," (",a.userId,") from Sub Admin?"]}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,r.jsx)("button",{onClick:t,className:"bg-green-600 text-white px-4 py-1 rounded",children:"No, Quit"}),(0,r.jsx)("button",{onClick:s,className:"bg-red-600 text-white px-4 py-1 rounded",children:"Yes, Remove"})]})]})})},m=e=>{let{data:a,onClose:s}=e;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg w-[600px]",children:(0,r.jsxs)("div",{className:"flex items-start gap-6",children:[(0,r.jsx)("img",{src:a.avatar,className:"w-20 h-20 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:a.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:a.role}),(0,r.jsx)("p",{className:"text-green-600 mt-1",children:"Active"===a.status?"• Currently Active":"• Inactive"}),(0,r.jsxs)("div",{className:"mt-4 bg-gray-50 p-3 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Basic Info"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",a.email]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Phone:"})," ",a.phone]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Date:"})," ",a.date]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Sub Admin ID:"})," ",a.userId]})]})]}),(0,r.jsxs)("div",{className:"mt-4 bg-orange-50 p-3 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Assigned Permissions"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:a.permissions.map((e,a)=>(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.enabled,readOnly:!0}),(0,r.jsx)("span",{children:e.name})]},a))})]}),(0,r.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,r.jsx)("button",{className:"bg-green-500 text-white px-4 py-1 rounded",children:"Save"}),(0,r.jsx)("button",{onClick:s,className:"bg-gray-500 text-white px-4 py-1 rounded",children:"Close"})]})]})]})})})};var p=s(8959);let u=e=>{let{title:a,count:s,users:t=[],borderColor:n}=e;return(0,r.jsx)("div",{className:"bg-white border-2 flex justify-center items-center border-gray-400 shadow rounded-lg shadow-md p-3 w-60 h-40 text-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl mb-3 font-medium text-gray-700",children:a}),(0,r.jsxs)("div",{className:"flex justify-between -space-x-3 my-2",children:[t.slice(0,6).map((e,a)=>(0,r.jsx)("img",{src:e.avatar,className:"w-10 h-10 rounded-full border-2 ".concat(n," object-cover"),alt:e.name,title:e.name},a)),t.length>6&&(0,r.jsxs)("span",{className:"w-10 h-10 rounded-full bg-gray-200 text-xs flex items-center justify-center font-medium text-gray-700 border",children:["+",t.length-6]})]}),(0,r.jsx)("div",{className:"text-3xl mt-5 font-semibold",children:s})]})})},h=()=>{let[e,a]=(0,t.useState)(null),[s,n]=(0,t.useState)(null),[l,i]=(0,t.useState)(p.fN),d=l.filter(e=>"Active"===e.status),h=l.filter(e=>"Suspended"===e.status),x=async()=>{try{await fetch("".concat(API_URL,"/subadmins/").concat(s),{method:"DELETE"}),i(l.filter(e=>e._id!==s)),n(null)}catch(e){console.error("Failed to delete:",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-5  justify-around p-4 flex-wrap",children:[(0,r.jsx)(u,{title:"Total Sub Admin",count:l.length,users:l,borderColor:"border-gray-400"}),(0,r.jsx)(u,{title:"Active Sub Admin",count:d.length,users:d,borderColor:"border-green-500"}),(0,r.jsx)(u,{title:"Suspended Sub Admin",count:h.length,users:h,borderColor:"border-red-500"})]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(o,{data:l,onView:e=>a(e),onRemove:e=>n(e)})}),e&&(0,r.jsx)(m,{data:e,onClose:()=>a(null)}),s&&(0,r.jsx)(c,{onConfirm:x,onCancel:()=>n(null),user:l.find(e=>e.id===s)})]})},x=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{}),(0,r.jsx)("div",{className:"pt-[100px] h-screen overflow-y-auto px-4",children:(0,r.jsx)(h,{})})]})}},e=>{e.O(0,[938,636,593,792],()=>e(e.s=8877)),_N_E=e.O()}]);