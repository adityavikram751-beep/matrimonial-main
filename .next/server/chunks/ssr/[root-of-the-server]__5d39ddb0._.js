module.exports=[61866,a=>{"use strict";let b=(0,a.i(83532).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);a.s(["ArrowUp",()=>b],61866)},89232,a=>{"use strict";let b=(0,a.i(83532).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);a.s(["ArrowDown",()=>b],89232)},6948,a=>{"use strict";var b=a.i(8171),c=a.i(61866),d=a.i(89232);function e({profileCompleted:a,profileIncomplete:e}){let f=({title:a,value:e,change:f,trend:g})=>(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center text-center",children:[(0,b.jsx)("div",{className:"text-xl font-semibold text-gray-900",children:a}),(0,b.jsx)("div",{className:"text-4xl font-bold text-gray-900 mt-1",children:e>=1e6?(e/1e6).toFixed(1)+" M":e>=1e3?(e/1e3).toFixed(1)+" K":e.toString()}),(0,b.jsxs)("div",{className:`flex items-center justify-center mt-2 ${"up"===g?"text-green-600":"text-red-600"}`,children:["up"===g?(0,b.jsx)(c.ArrowUp,{size:30,className:"mr-2"}):(0,b.jsx)(d.ArrowDown,{size:30,className:"mr-2"}),(0,b.jsxs)("div",{className:"flex flex-col text-[15px] leading-tight font-bold",children:[(0,b.jsxs)("span",{children:[" ",Math.abs(f)," % Vs"]}),(0,b.jsx)("span",{className:"font-normal",children:"last week"})]})]})]});return(0,b.jsx)("div",{className:"bg-white border border-gray-400 shadow-sm rounded-2xl px-4 py-4 w-full max-w-sm",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(f,{title:"Profile Com.",value:a.count,change:a.change,trend:a.trend}),(0,b.jsx)("div",{className:"w-[2px] h-[75px] bg-gray-300 mx-4"}),(0,b.jsx)(f,{title:"Profile Incom.",value:e.count,change:e.change,trend:e.trend})]})})}a.s(["default",()=>e])},16798,a=>{"use strict";var b=a.i(8171),c=a.i(61866);let d=(0,a.i(83532).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function e({data:a}){var e;let f=Array.isArray(a.profileImage)?a.profileImage:[];return(0,b.jsxs)("div",{className:"relative bg-white border border-gray-400 rounded-2xl shadow-sm p-4 w-full max-w-sm",children:[(0,b.jsx)("img",{src:"/mnt/data/Frame 84.png",className:"absolute right-3 top-3 w-20 h-10 opacity-80 pointer-events-none",alt:"",onError:a=>a.target.style.display="none"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-green-700 text-white rounded-sm text-xs font-bold",children:"âœ”"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 text-xl",children:"Approved Profile"})]}),(0,b.jsx)("div",{className:"mt-2 text-4xl font-extrabold text-gray-900 leading-tight",children:(e=a.count)?e>=1e6?(e/1e6).toFixed(2)+" M":e>=1e3?(e/1e3).toFixed(2)+" K":e.toLocaleString():"0"}),(0,b.jsxs)("div",{className:"absolute right-4 top-16 flex items-start text-green-600 font-semibold",children:[(0,b.jsx)(c.ArrowUp,{size:32,className:"mr-2"}),(0,b.jsxs)("div",{className:"flex flex-col leading-tight text-green-600 text-xl",children:[(0,b.jsxs)("span",{children:[a.change,"% Vs"]}),(0,b.jsx)("span",{className:"font-normal",children:"last week"})]})]}),(0,b.jsx)("div",{className:"flex -space-x-3 mt-8",children:f.length>0?f.map((a,c)=>(0,b.jsx)("img",{src:a,className:"w-9 h-9 rounded-full border-2 border-green-600 object-cover shadow-sm",alt:"Profile",onError:a=>a.target.style.display="none"},c)):[...Array(8)].map((a,c)=>(0,b.jsx)("div",{className:"w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center border-2 border-white text-gray-500 shadow-sm",children:(0,b.jsx)(d,{size:16})},c))})]})}a.s(["default",()=>e],16798)},31992,a=>{"use strict";var b=a.i(8171),c=a.i(89232);let d=(0,a.i(83532).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);function e({data:a}){var e;let f=Array.isArray(a.profileImage)?a.profileImage:[];return(0,b.jsxs)("div",{className:"bg-white border border-gray-400 rounded-xl shadow-sm px-5 py-4 w-full max-w-sm",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-7 h-7 rounded-full bg-yellow-400 flex items-center justify-center",children:(0,b.jsx)(d,{size:14,className:"text-white"})}),(0,b.jsx)("span",{className:"font-bold text-gray-900 text-xl",children:"Pending Profile"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-gray-900",children:(e=a.count)>=1e6?(e/1e6).toFixed(2)+" M":e>=1e3?(e/1e3).toFixed(2)+" K":e}),(0,b.jsxs)("div",{className:"flex flex-col items-end leading-tight text-red-600",children:[(0,b.jsxs)("div",{className:"flex items-center font-bold text-xl",children:[(0,b.jsx)(c.ArrowDown,{size:34,className:"mr-1"}),(0,b.jsxs)("span",{children:[Math.abs(a.change)," % Vs"]})]}),(0,b.jsx)("span",{className:"text-xl",children:"last week"})]})]}),(0,b.jsx)("div",{className:"flex items-center mt-4 -space-x-2",children:f.map((a,c)=>(0,b.jsx)("img",{src:a,alt:"profile",className:"w-9 h-9 rounded-full border-2 border-red-600 object-cover shadow",onError:a=>a.target.style.display="none"},c))})]})}a.s(["default",()=>e],31992)},73050,a=>{"use strict";var b=a.i(8171),c=a.i(27669),d=a.i(17568),e=a.i(14532),f=a.i(23756),g=a.i(31616);function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(1),[q,r]=(0,c.useState)(1),[s,t]=(0,c.useState)(!0),u=async()=>{t(!0);try{let a=new URLSearchParams({page:o,limit:5,search:i,statusFilter:k,genderFilter:m}),b=await fetch(`${g.API_URL}/admin/user-manage?${a}`),c=await b.json();if(c.success){let a=c.data.map(a=>({...a,verified:"approved"===a.status?"Yes":("pending"===a.status||a.status,"No")}));h(a),r(c.totalPages)}}catch(a){console.log("Fetch Error",a)}finally{t(!1)}};return(0,c.useEffect)(()=>{u()},[o,i,k,m]),(0,b.jsxs)("div",{className:"overflow-x-auto bg-white border border-gray-400 shadow-md rounded-xl p-4 mt-4 w-full",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center bg-gray-100 border p-2 rounded border-gray-400 justify-between gap-3 mb-4",children:[(0,b.jsxs)("div",{className:"relative w-full md:w-1/3",children:[(0,b.jsx)("input",{type:"text",placeholder:"Search By User",value:i,onChange:a=>j(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-400 rounded-md text-sm"}),(0,b.jsx)(d.Search,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:k,onChange:a=>l(a.target.value),className:"border border-gray-400 bg-gray-200 text-sm rounded-md px-3 py-2 cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"Status"}),(0,b.jsx)("option",{value:"approved",children:"Approved"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"blocked",children:"Blocked"}),(0,b.jsx)("option",{value:"reject",children:"Rejected"})]}),(0,b.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"border border-gray-400 bg-gray-200 text-sm rounded-md px-3 py-2 cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"Gender"}),(0,b.jsx)("option",{value:"Male",children:"Male"}),(0,b.jsx)("option",{value:"Female",children:"Female"}),(0,b.jsx)("option",{value:"N/A",children:"N/A"})]})]})]}),s&&(0,b.jsx)("p",{className:"flex justify-center py-4",children:(0,b.jsx)(f.default,{src:"/loading2.gif",width:90,height:90,alt:"loading"})}),!s&&a.length>0&&(0,b.jsxs)("table",{className:"min-w-full text-sm border border-gray-300",children:[(0,b.jsx)("thead",{className:"bg-gray-50 text-gray-700 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-2 border",children:"User Name"}),(0,b.jsx)("th",{className:"p-2 border",children:"Location"}),(0,b.jsx)("th",{className:"p-2 border",children:"Joined"}),(0,b.jsx)("th",{className:"p-2 border text-center",children:"Verified"}),(0,b.jsx)("th",{className:"p-2 border text-center",children:"Last Active"}),(0,b.jsx)("th",{className:"p-2 border text-center",children:"Status"}),(0,b.jsx)("th",{className:"p-2 border text-center",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:a.map((a,c)=>(0,b.jsxs)("tr",{className:"text-gray-700",children:[(0,b.jsx)("td",{className:"p-2 border",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("img",{src:a.profileImage,className:"w-10 h-10 rounded-full object-cover",alt:"avatar"}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"font-medium",children:a.fullName}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:[a.id," / ",a.gender]})]})]})}),(0,b.jsx)("td",{className:"p-2 border",children:a.location}),(0,b.jsx)("td",{className:"p-2 border",children:a.joined}),(0,b.jsx)("td",{className:"p-2 border text-center",children:"Yes"===a.verified?(0,b.jsx)("span",{className:"text-green-600 font-semibold",children:"âœ” Yes"}):(0,b.jsx)("span",{className:"text-red-600 font-semibold",children:"âœ˜ No"})}),(0,b.jsx)("td",{className:"p-2 border text-center",children:a.lastActive}),(0,b.jsx)("td",{className:"p-2 border text-center",children:(0,b.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("span",{className:`w-3 h-3 rounded-full ${"approved"===a.status?"bg-green-600":"pending"===a.status?"bg-yellow-500":"blocked"===a.status?"bg-red-600":"reject"===a.status?"bg-gray-500":"bg-gray-300"}`}),(0,b.jsx)("span",{className:"font-medium capitalize",children:a.status})]})}),(0,b.jsx)("td",{className:"p-2 border text-center",children:(0,b.jsx)(e.default,{href:`/manageusers/${a.mongoId}`,children:(0,b.jsx)("span",{className:"text-black hover:underline cursor-pointer",children:"View"})})})]},c))})]}),!s&&(0,b.jsxs)("div",{className:"flex justify-center items-center mt-4 text-sm text-gray-700 space-x-2",children:[(0,b.jsx)("button",{onClick:()=>p(a=>Math.max(1,a-1)),className:"px-2",children:"â—„"}),(0,b.jsx)("button",{onClick:()=>p(a=>Math.max(1,a-1)),className:"px-2",children:"Prev"}),(0,b.jsx)("span",{children:"|"}),(()=>{let a=4*Math.floor((o-1)/4)+1,b=Math.min(a+3,q),c=[];for(let d=a;d<=b;d++)c.push(d);return c})().map(a=>(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)("button",{onClick:()=>p(a),className:o===a?"font-bold underline text-black":"text-gray-700",children:a}),(0,b.jsx)("span",{className:"px-1",children:"|"})]},a)),q>4&&(0,b.jsx)("span",{children:"â€¦.."}),(0,b.jsx)("button",{onClick:()=>p(a=>Math.min(q,a+1)),className:"px-2",children:"Next"}),(0,b.jsx)("button",{onClick:()=>p(a=>Math.min(q,a+1)),className:"px-2",children:"â–º"})]})]})}a.s(["default",()=>h])},24911,(a,b,c)=>{b.exports=a.x("papaparse",()=>require("papaparse"))},29839,a=>{"use strict";var b=a.i(8171),c=a.i(27669),d=a.i(17568);let e=(0,a.i(83532).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var f=a.i(24911),g=a.i(31616);function h(){let a,[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(1),[x,y]=(0,c.useState)(1),z=async()=>{try{let a=`${g.API_URL}/admin/user-manage-get?search=${encodeURIComponent(l.trim())}&name=${encodeURIComponent(l.trim())}&status=${n.toLowerCase()}&gender=${p}&sortField=${r}&sortOrder=${t?"asc":"desc"}&page=${v}&limit=5`,b=await fetch(a),c=await b.json();i(c.users||[]),y(c.totalPages||1)}catch(a){console.error("Error fetching users:",a)}};(0,c.useEffect)(()=>{z()},[n,p,r,t,v,l]),(0,c.useEffect)(()=>{k(h.filter(a=>a.name?.toLowerCase().includes(l.toLowerCase())))},[l,h]);let A=a=>{r===a?u(!t):(s(a),u(!0))};return(0,b.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-4 border border-gray-400 w-full mt-4",children:[(0,b.jsxs)("div",{className:"flex flex-col border p-2 rounded bg-gray-100 border-gray-400 md:flex-row md:items-center justify-between gap-3 mb-4",children:[(0,b.jsxs)("div",{className:"relative w-full md:w-1/3",children:[(0,b.jsx)("input",{type:"text",placeholder:"Search By User Name",value:l,onChange:a=>{m(a.target.value),w(1)},className:"w-full pl-10 pr-4 py-2  bg-white border border-gray-300 rounded-md text-sm"}),(0,b.jsx)(d.Search,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsxs)("select",{value:n,onChange:a=>{o(a.target.value),w(1)},className:"border border-gray-400 bg-gray-200 cursor-pointer hover:bg-gray-300 text-sm rounded-md px-3 py-2",children:[(0,b.jsx)("option",{value:"",children:"Status"}),(0,b.jsx)("option",{value:"Approved",children:"Approved"}),(0,b.jsx)("option",{value:"Pending",children:"Pending"}),(0,b.jsx)("option",{value:"Reject",children:"Reject"})]}),(0,b.jsxs)("select",{value:p,onChange:a=>{q(a.target.value),w(1)},className:"border border-gray-400 bg-gray-200 cursor-pointer hover:bg-gray-300 text-sm rounded-md px-3 py-2",children:[(0,b.jsx)("option",{value:"",children:"Gender"}),(0,b.jsx)("option",{value:"Male",children:"Male"}),(0,b.jsx)("option",{value:"Female",children:"Female"})]}),(0,b.jsxs)("button",{onClick:()=>{let a=new Blob([f.default.unparse(j)],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a");b.href=URL.createObjectURL(a),b.download="users.csv",b.click()},className:"px-3 py-2 text-sm border border-gray-400 bg-gray-200 cursor-pointer hover:bg-gray-300 rounded-md flex items-center gap-1",children:[(0,b.jsx)(e,{size:16})," Export CSV"]})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-sm border border-gray-300 text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-100 text-gray-600",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-2",children:"User ID"}),(0,b.jsx)("th",{className:"p-2 cursor-pointer",onClick:()=>A("name"),children:"User Name â¬"}),(0,b.jsx)("th",{className:"p-2 cursor-pointer",onClick:()=>A("location"),children:"Location â¬"}),(0,b.jsx)("th",{className:"p-2 cursor-pointer",onClick:()=>A("gender"),children:"Gender â¬"}),(0,b.jsx)("th",{className:"p-2 cursor-pointer",onClick:()=>A("joined"),children:"Joined â¬"}),(0,b.jsx)("th",{className:"p-2",children:"Verified"}),(0,b.jsx)("th",{className:"p-2",children:"Status"}),(0,b.jsx)("th",{className:"p-2",children:"Last Active"})]})}),(0,b.jsx)("tbody",{children:j.map((a,c)=>{var d,e;return(0,b.jsxs)("tr",{className:"border-t border-gray-300 text-gray-600",children:[(0,b.jsx)("td",{className:"p-2",children:a.id}),(0,b.jsx)("td",{className:"p-2",children:a.name}),(0,b.jsx)("td",{className:"p-2",children:a.location||"Not Mention"}),(0,b.jsx)("td",{className:"p-2",children:a.gender||"Not Mention"}),(0,b.jsx)("td",{className:"p-2",children:a.joined}),(0,b.jsx)("td",{className:"p-2",children:a.verified?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"inline-block w-6 h-6 bg-green-700 text-white rounded-sm flex items-center justify-center",children:"âœ”"}),"Yes"]}):(0,b.jsx)("div",{className:"flex items-center gap-2 text-red-600",children:(0,b.jsx)("span",{className:"font-bold",children:"âœ˜ No"})})}),(0,b.jsx)("td",{className:"p-2",children:(0,b.jsxs)("span",{className:`flex items-center gap-1 ${"Approved"===(d=a.status)?"text-green-600":"Pending"===d?"text-yellow-500":"text-red-600"}`,children:[(0,b.jsx)("span",{className:`w-2 h-2 rounded-full ${"Approved"===(e=a.status)?"bg-green-500":"Pending"===e?"bg-yellow-400":"bg-red-500"}`}),a.status]})}),(0,b.jsx)("td",{className:"p-2",children:a.lastActive})]},c)})})]})}),(0,b.jsxs)("div",{className:"flex justify-center items-center mt-4 text-sm text-gray-700 space-x-3",children:[(0,b.jsx)("button",{onClick:()=>w(a=>Math.max(1,a-1)),className:"px-2",children:"â—„"}),(0,b.jsx)("button",{onClick:()=>w(a=>Math.max(1,a-1)),className:"px-2",children:"Prev"}),(0,b.jsx)("span",{children:"|"}),Array.from({length:Math.min((a=Math.max(1,v-3))+3,x)-a+1},(c,d)=>{let e=a+d;return(0,b.jsxs)("span",{onClick:()=>w(e),className:`cursor-pointer px-1 ${v===e?"font-semibold":""}`,children:[e," ",(0,b.jsx)("span",{children:"|"})]},e)}),x>4&&(0,b.jsx)("span",{children:"â€¦.."}),(0,b.jsx)("span",{children:"|"}),(0,b.jsx)("button",{onClick:()=>w(a=>Math.min(x,a+1)),className:"px-2",children:"Next"}),(0,b.jsx)("button",{onClick:()=>w(a=>Math.min(x,a+1)),className:"px-2",children:"â–º"})]})]})}a.s(["default",()=>h],29839)},38657,a=>{"use strict";var b=a.i(8171),c=a.i(61866),d=a.i(89232);function e({totalUsers:a,newSignups:e}){let f=({change:a,trend:e})=>{let f="up"===e;return(0,b.jsxs)("div",{className:"flex items-start gap-[6px] mt-[6px]",children:[f?(0,b.jsx)(c.ArrowUp,{size:30,className:"text-green-600 mt-[2px]"}):(0,b.jsx)(d.ArrowDown,{size:30,className:"text-red-600 mt-[2px]"}),(0,b.jsxs)("div",{className:"flex flex-col leading-[15px]",children:[(0,b.jsxs)("span",{className:`text-[16px] font-semibold ${f?"text-green-600":"text-red-600"}`,children:[Math.abs(a)," % Vs"]}),(0,b.jsx)("span",{className:`text-[15px] ${f?"text-green-600":"text-red-600"}`,children:"last week"})]})]})},g=({title:a,value:c,change:d,trend:e})=>(0,b.jsxs)("div",{className:"flex-1 text-center",children:[(0,b.jsx)("div",{className:"text-[18px] font-bold text-gray-700 whitespace-nowrap",children:a}),(0,b.jsx)("div",{className:"text-[32px] font-bold text-gray-900",children:c>=1e6?(c/1e6).toFixed(1)+" M":c>=1e3?(c/1e3).toFixed(1)+" K":c.toLocaleString()}),(0,b.jsx)(f,{change:d,trend:e})]});return(0,b.jsx)("div",{className:"bg-white border border-gray-400 shadow rounded-xl px-6 py-4 w-full max-w-md",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(g,{title:"Total users",value:a.count,change:a.change,trend:a.trend}),(0,b.jsx)("div",{className:"w-[2px] h-[60px] bg-gray-300 mx-2"}),(0,b.jsx)(g,{title:"New Signups",value:e.count,change:e.change,trend:e.trend})]})})}a.s(["default",()=>e])},69659,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(70776),g=b([f]);[f]=g.then?(await g)():g,a.s(["default",0,()=>{let[a,b]=(0,e.useState)(""),[c,g]=(0,e.useState)([]),[h,i]=(0,e.useState)(0),[j,k]=(0,e.useState)(!1),l=(0,e.useRef)(null),m="https://matrimonial-backend-7ahc.onrender.com",n=async()=>{try{let a=localStorage.getItem("token"),b=await fetch(`${m}/admin/profile`,{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();if(!c.success)return;let d=c.data;!0===d.notifications?(0,f.connectSocket)(d._id):(0,f.disconnectSocket)()}catch(a){console.log("Admin Pref Error:",a)}};(0,e.useEffect)(()=>{n()},[]);let o=async()=>{try{let a=localStorage.getItem("token"),b=await fetch(`${m}/api/notification/me`,{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();if(c.success){let a=c.data.reverse();g(a),i(a.filter(a=>!a.read).length)}}catch(a){console.log("Notification Fetch Error:",a)}};(0,e.useEffect)(()=>{o()},[]),(0,e.useEffect)(()=>{let a=(0,f.getSocket)();if(a)return console.log("ðŸŸ¢ REAL-TIME SOCKET ACTIVE (Manage Users)"),a.on("new-notification",a=>{g(b=>[a,...b]),i(a=>a+1)}),a.on("one-read",({id:a})=>{g(b=>b.map(b=>b._id===a?{...b,read:!0}:b)),i(a=>Math.max(a-1,0))}),a.on("all-read",()=>{g(a=>a.map(a=>({...a,read:!0}))),i(0)}),a.on("delete-one",({id:a})=>{g(b=>b.filter(b=>b._id!==a)),i(a=>Math.max(a-1,0))}),a.on("delete-all",()=>{g([]),i(0)}),()=>{a.off("new-notification"),a.off("one-read"),a.off("all-read"),a.off("delete-one"),a.off("delete-all")}},[]);let p=async a=>{let b=localStorage.getItem("token");g(b=>b.map(b=>b._id===a?{...b,read:!0}:b)),i(a=>Math.max(a-1,0)),await fetch(`${m}/api/notification/mark-read/${a}`,{method:"PATCH",headers:{Authorization:`Bearer ${b}`}}),(0,f.getSocket)()?.emit("one-read",{id:a})},q=async()=>{let a=localStorage.getItem("token");g(a=>a.map(a=>({...a,read:!0}))),i(0),await fetch(`${m}/api/notification/mark-all`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`}}),(0,f.getSocket)()?.emit("all-read")},r=async a=>{let b=localStorage.getItem("token");g(b=>b.filter(b=>b._id!==a)),await fetch(`${m}/api/notification/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}}),(0,f.getSocket)()?.emit("delete-one",{id:a})},s=async()=>{let a=localStorage.getItem("token");g([]),i(0),await fetch(`${m}/api/notification/delete-all`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),(0,f.getSocket)()?.emit("delete-all")};return(0,e.useEffect)(()=>{let a=a=>{l.current&&!l.current.contains(a.target)&&k(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,d.jsxs)("div",{className:"bg-gray-100 px-6 py-4 shadow-sm border-b fixed top-0 z-50 flex items-center justify-between",style:{left:"250px",width:"calc(100% - 250px)"},children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Users"}),(0,d.jsx)("div",{className:"flex items-center gap-5",children:(0,d.jsxs)("div",{className:"relative",ref:l,children:[(0,d.jsxs)("div",{className:"cursor-pointer",onClick:()=>{let a=!j;k(a),a&&q()},children:[(0,d.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"#FFC107",children:(0,d.jsx)("path",{d:"M12 24c1.104 0 2-.897 2-2h-4c0 1.103.896 2 2 2zm6.707-5l1.293 1.293V21H4v-1.707L5.293 19H6v-7c0-3.309 2.691-6 6-6s6 2.691 6 6v7h.707zM18 18H6v-7c0-2.757 2.243-5 5-5s5 2.243 5 5v7z"})}),h>0&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 text-[10px] flex items-center justify-center bg-red-600 text-white rounded-full",children:h})]}),j&&(0,d.jsxs)("div",{className:"absolute right-0 mt-3 w-80 bg-white shadow-xl border rounded-lg max-h-96 overflow-y-auto p-3 z-50",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsx)("h3",{className:"font-semibold text-lg",children:"Notifications"}),(0,d.jsx)("button",{onClick:q,className:"text-blue-600 text-sm",children:"Mark all read"})]}),0===c.length?(0,d.jsx)("p",{className:"p-4 text-sm text-gray-500",children:"No notifications"}):c.map(a=>(0,d.jsxs)("div",{className:"border-b pb-3 mb-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("p",{className:"font-bold text-[15px] capitalize",children:a.title}),(0,d.jsx)("button",{onClick:()=>r(a._id),className:"text-red-600 text-xs",children:"Delete"})]}),(0,d.jsx)("p",{className:"text-gray-700 text-sm mt-1",children:a.message}),(0,d.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:new Date(a.createdAt).toLocaleString()}),!a.read&&(0,d.jsx)("button",{onClick:()=>p(a._id),className:"text-blue-600 text-xs mt-1",children:"Mark as read"})]},a._id)),c.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{className:"border-gray-300 my-2"}),(0,d.jsx)("button",{onClick:s,className:"w-full py-2 text-red-600 text-sm",children:"Delete All"})]})]})]})})]})}]),c()}catch(a){c(a)}},!1),3517,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(23756),g=a.i(6948),h=a.i(16798),i=a.i(31992),j=a.i(73050),k=a.i(29839),l=a.i(31616),m=a.i(38657),n=a.i(69659),o=b([n]);[n]=o.then?(await o)():o,a.s(["default",0,()=>{let[a,b]=(0,e.useState)(null);return((0,e.useEffect)(()=>{(async()=>{try{let a=await fetch(`${l.API_URL}/admin/user-stats`),c=await a.json();b(c)}catch(a){console.error("Failed to fetch stats:",a)}})()},[]),a)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.default,{}),(0,d.jsxs)("div",{className:"pt-[85px] p-8",children:[(0,d.jsxs)("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[(0,d.jsx)(m.default,{totalUsers:a.totalUsers,newSignups:a.newSignups}),(0,d.jsx)(g.default,{profileCompleted:a.profileCompleted,profileIncomplete:a.profileIncomplete}),(0,d.jsx)(h.default,{data:a.approvedProfiles}),(0,d.jsx)(i.default,{data:a.pendingProfiles})]}),(0,d.jsx)(j.default,{}),(0,d.jsx)(k.default,{})]})]}):(0,d.jsx)("div",{className:"p-4 mt-[280px] flex justify-center items-center",children:(0,d.jsx)(f.default,{src:"/loading2.gif",height:200,width:200,alt:"Loading.."})})}]),c()}catch(a){c(a)}},!1),18611,a=>a.a(async(b,c)=>{try{var d=a.i(82032),e=a.i(5115),f=a.i(5813),g=a.i(12225),h=a.i(66508),i=a.i(3517),j=a.i(65725),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/manageusers/index",pathname:"/manageusers",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/manageusers/index",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__5d39ddb0._.js.map