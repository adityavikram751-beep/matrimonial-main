{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/My%20PC%20Buddy/Downloads/matrimonial-main/matrimonial-main/src/lib/socket.js"],"sourcesContent":["import { io } from \"socket.io-client\";\n\nlet socket = null;\n\nexport function connectSocket(adminId) {\n  if (socket && socket.connected) return socket;\n\n  socket = io(\"https://matrimonial-backend-7ahc.onrender.com\", {\n    transports: [\"websocket\"],\n    secure: true,\n    reconnection: true,\n    reconnectionAttempts: 10,\n    path: \"/socket.io\",\n    query: { adminId },\n  });\n\n  socket.on(\"connect\", () => {\n    console.log(\"üîµ SOCKET CONNECTED:\", socket.id);\n  });\n\n  socket.on(\"disconnect\", () => {\n    console.log(\"üî¥ SOCKET DISCONNECTED\");\n  });\n\n  return socket;\n}\n\nexport function disconnectSocket() {\n  if (socket) {\n    socket.disconnect();\n    console.log(\"üî¥ SOCKET MANUALLY DISCONNECTED\");\n  }\n}\n\nexport function getSocket() {\n  return socket;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;;AAEA,IAAI,SAAS;AAEN,SAAS,cAAc,OAAO;IACnC,IAAI,UAAU,OAAO,SAAS,EAAE,OAAO;IAEvC,SAAS,IAAA,kJAAE,EAAC,iDAAiD;QAC3D,YAAY;YAAC;SAAY;QACzB,QAAQ;QACR,cAAc;QACd,sBAAsB;QACtB,MAAM;QACN,OAAO;YAAE;QAAQ;IACnB;IAEA,OAAO,EAAE,CAAC,WAAW;QACnB,QAAQ,GAAG,CAAC,wBAAwB,OAAO,EAAE;IAC/C;IAEA,OAAO,EAAE,CAAC,cAAc;QACtB,QAAQ,GAAG,CAAC;IACd;IAEA,OAAO;AACT;AAEO,SAAS;IACd,IAAI,QAAQ;QACV,OAAO,UAAU;QACjB,QAAQ,GAAG,CAAC;IACd;AACF;AAEO,SAAS;IACd,OAAO;AACT"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/My%20PC%20Buddy/Downloads/matrimonial-main/matrimonial-main/src/component/reportedcontent/Search.js"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Bell } from \"lucide-react\";\n\n// ‚≠ê WebSocket imports\nimport { connectSocket, disconnectSocket, getSocket } from \"@/src/lib/socket\";\n\nconst Search = () => {\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [open, setOpen] = useState(false);\n\n  const dropdownRef = useRef(null);\n  const BASE_URL = \"https://matrimonial-backend-7ahc.onrender.com\";\n\n  /* --------------------------------------------------------\n        1) CONNECT SOCKET BASED ON ADMIN PREF\n  ---------------------------------------------------------*/\n  const loadAdminPrefs = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await fetch(`${BASE_URL}/admin/profile`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      const json = await res.json();\n      if (!json.success) return;\n\n      const admin = json.data;\n\n      if (admin.notifications === true) {\n        connectSocket(admin._id);\n      } else {\n        disconnectSocket();\n      }\n    } catch (err) {\n      console.log(\"Admin Pref Error:\", err);\n    }\n  };\n\n  useEffect(() => {\n    loadAdminPrefs();\n  }, []);\n\n  /* --------------------------------------------------------\n        2) FETCH NOTIFICATIONS\n  ---------------------------------------------------------*/\n  const fetchNotifications = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await fetch(`${BASE_URL}/api/notification/me`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      const data = await res.json();\n\n      if (data.success) {\n        const list = data.data.reverse();\n        setNotifications(list);\n        setUnreadCount(list.filter((n) => !n.read).length);\n      }\n    } catch (err) {\n      console.log(\"Fetch error:\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchNotifications();\n  }, []);\n\n  /* --------------------------------------------------------\n        3) SOCKET REAL-TIME LISTENERS (SYNC EVERYWHERE)\n  ---------------------------------------------------------*/\n  useEffect(() => {\n    const socket = getSocket();\n    if (!socket) return;\n\n    console.log(\"üü¢ REAL-TIME NOTIFICATION LISTENER ACTIVE\");\n\n    // NEW notification\n    socket.on(\"new-notification\", (data) => {\n      setNotifications((prev) => [data, ...prev]);\n      setUnreadCount((u) => u + 1);\n    });\n\n    // MARK ONE READ SYNC\n    socket.on(\"one-read\", ({ id }) => {\n      setNotifications((prev) =>\n        prev.map((n) => (n._id === id ? { ...n, read: true } : n))\n      );\n      setUnreadCount((u) => Math.max(0, u - 1));\n    });\n\n    // MARK ALL READ SYNC\n    socket.on(\"all-read\", () => {\n      setNotifications((prev) => prev.map((n) => ({ ...n, read: true })));\n      setUnreadCount(0);\n    });\n\n    // DELETE ONE SYNC\n    socket.on(\"delete-one\", ({ id }) => {\n      setNotifications((prev) => prev.filter((n) => n._id !== id));\n    });\n\n    // DELETE ALL SYNC\n    socket.on(\"delete-all\", () => {\n      setNotifications([]);\n      setUnreadCount(0);\n    });\n\n    return () => {\n      socket.off(\"new-notification\");\n      socket.off(\"one-read\");\n      socket.off(\"all-read\");\n      socket.off(\"delete-one\");\n      socket.off(\"delete-all\");\n    };\n  }, []);\n\n  /* --------------------------------------------------------\n        4) CLICK OUTSIDE ‚Üí CLOSE DROPDOWN\n  ---------------------------------------------------------*/\n  useEffect(() => {\n    const handler = (e) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\n        setOpen(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handler);\n    return () => document.removeEventListener(\"mousedown\", handler);\n  }, []);\n\n  /* --------------------------------------------------------\n        5) MARK ONE READ\n  ---------------------------------------------------------*/\n  const markAsRead = async (id) => {\n    const token = localStorage.getItem(\"token\");\n\n    setNotifications((prev) =>\n      prev.map((n) => (n._id === id ? { ...n, read: true } : n))\n    );\n    setUnreadCount((u) => Math.max(0, u - 1));\n\n    await fetch(`${BASE_URL}/api/notification/mark-read/${id}`, {\n      method: \"PATCH\",\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    getSocket()?.emit(\"one-read\", { id });\n  };\n\n  /* --------------------------------------------------------\n        6) MARK ALL READ\n  ---------------------------------------------------------*/\n  const markAll = async () => {\n    const token = localStorage.getItem(\"token\");\n\n    setNotifications((prev) => prev.map((n) => ({ ...n, read: true })));\n    setUnreadCount(0);\n\n    await fetch(`${BASE_URL}/api/notification/mark-all`, {\n      method: \"PATCH\",\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    getSocket()?.emit(\"all-read\");\n  };\n\n  /* --------------------------------------------------------\n        7) DELETE ONE\n  ---------------------------------------------------------*/\n  const deleteOne = async (id) => {\n    const token = localStorage.getItem(\"token\");\n\n    setNotifications((prev) => prev.filter((n) => n._id !== id));\n\n    await fetch(`${BASE_URL}/api/notification/${id}`, {\n      method: \"DELETE\",\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    getSocket()?.emit(\"delete-one\", { id });\n  };\n\n  /* --------------------------------------------------------\n        8) DELETE ALL\n  ---------------------------------------------------------*/\n  const deleteAll = async () => {\n    const token = localStorage.getItem(\"token\");\n\n    setNotifications([]);\n    setUnreadCount(0);\n\n    await fetch(`${BASE_URL}/api/notification/delete-all`, {\n      method: \"DELETE\",\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    getSocket()?.emit(\"delete-all\");\n  };\n\n  /* --------------------------------------------------------\n        9) BELL CLICK ‚Üí AUTO MARK ALL READ\n  ---------------------------------------------------------*/\n  const handleBellClick = () => {\n    const show = !open;\n    setOpen(show);\n\n    if (show) {\n      markAll();\n    }\n  };\n\n  /* --------------------------------------------------------\n        UI\n  ---------------------------------------------------------*/\n  return (\n    <div className=\"w-full bg-[#f5f5f5] py-3 px-4 border-b flex items-center justify-between\">\n      {/* TITLE */}\n      <h1 className=\"text-2xl font-bold text-black\">Reported Content</h1>\n\n      <div className=\"flex items-center gap-4\">\n\n        {/* üîî Notification Bell */}\n        <div className=\"relative\" ref={dropdownRef}>\n          <div\n            className=\"cursor-pointer relative\"\n            onClick={handleBellClick}\n          >\n            <Bell className=\"h-7 w-7 text-yellow-500\" />\n\n            {unreadCount > 0 && (\n              <span className=\"absolute -top-1 -right-1 h-4 w-4 bg-red-600 text-white \n              text-[10px] flex items-center justify-center rounded-full border-2 border-white\">\n                {unreadCount}\n              </span>\n            )}\n          </div>\n\n          {/* DROPDOWN */}\n          {open && (\n            <div className=\"absolute right-0 mt-3 w-[330px] bg-white shadow-lg border rounded-lg p-3 z-50\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <h2 className=\"font-semibold\">Notifications</h2>\n\n                <button onClick={markAll} className=\"text-blue-600 text-sm\">\n                  Mark all read\n                </button>\n              </div>\n\n              {/* LIST */}\n              <div className=\"max-h-[300px] overflow-y-auto\">\n                {notifications.length === 0 ? (\n                  <p className=\"text-center text-gray-500 py-3\">No notifications</p>\n                ) : (\n                  notifications.map((n) => (\n                    <div\n                      key={n._id}\n                      className={`p-3 border-b flex justify-between items-start ${\n                        !n.read ? \"bg-yellow-50\" : \"\"\n                      }`}\n                    >\n                      <div>\n                        <h3 className=\"font-semibold\">{n.title}</h3>\n                        <p className=\"text-sm text-gray-600\">{n.message}</p>\n                        <p className=\"text-xs text-gray-400 mt-1\">\n                          {new Date(n.createdAt).toLocaleString()}\n                        </p>\n\n                        {!n.read && (\n                          <button\n                            onClick={() => markAsRead(n._id)}\n                            className=\"text-blue-600 text-xs mt-1\"\n                          >\n                            Mark as read\n                          </button>\n                        )}\n                      </div>\n\n                      <button\n                        onClick={() => deleteOne(n._id)}\n                        className=\"text-red-500 text-sm\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  ))\n                )}\n              </div>\n\n              {notifications.length > 0 && (\n                <button\n                  onClick={deleteAll}\n                  className=\"w-full text-red-600 mt-2 py-2 text-sm border-t\"\n                >\n                  Delete All\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/My%20PC%20Buddy/Downloads/matrimonial-main/matrimonial-main/src/component/api/apiURL.js"],"sourcesContent":["export const API_URL = \"https://matrimonial-backend-7ahc.onrender.com\";\n"],"names":[],"mappings":";;;;AAAO,MAAM,UAAU"}},
    {"offset": {"line": 473, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/My%20PC%20Buddy/Downloads/matrimonial-main/matrimonial-main/src/component/reportedcontent/ReportModal.js"],"sourcesContent":["import React from 'react';\nimport { API_URL } from '../api/apiURL';\n\nconst ReportModal = ({ report, onClose, refreshReports }) => {\n  if (!report) return null;\n\n  const {\n    reporter,\n    reportedUser,\n    title,\n    description,\n    image,\n    status,\n    createdAt,\n  } = report;\n\n  const formatDate = (date) => new Date(date).toLocaleDateString();\n\n  // Close when clicking outside\n  const handleBackdropClick = (e) => {\n    if (e.target.id === \"backdrop\") {\n      onClose();\n    }\n  };\n\n  // API call\n  const handleAction = async (action) => {\n    try {\n      const res = await fetch(`${API_URL}/admin/report/status/${report._id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          status: action === \"approve\" ? \"approved\" : \"rejected\",\n        }),\n      });\n\n      const data = await res.json();\n      console.log(\"API Response:\", data);\n\n      if (data.success) {\n        alert(`Report has been ${action === \"approve\" ? \"approved\" : \"rejected\"}`);\n        onClose();\n        refreshReports();\n      } else {\n        alert(data.message || \"Something went wrong\");\n      }\n    } catch (err) {\n      console.error(\"Error in handleAction:\", err);\n      alert(\"Error processing action\");\n    }\n  };\n\n  return (\n    <div\n      id=\"backdrop\"\n      onClick={handleBackdropClick}\n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4 py-10\"\n    >\n      <div\n        className=\"relative bg-white/90 backdrop-blur-lg border border-white/40 rounded-3xl shadow-2xl max-w-xl w-full p-8 animate-scaleIn\"\n        onClick={(e) => e.stopPropagation()} // Stop click inside modal\n      >\n\n        {/* Status + Date */}\n        <div className=\"flex justify-between items-center mb-6\">\n          <div className=\"flex items-center gap-2\">\n            <div\n              className={`w-3 h-3 rounded-full ${\n                status === 'rejected'\n                  ? 'bg-red-500'\n                  : status === 'approved'\n                  ? 'bg-green-500'\n                  : 'bg-yellow-400'\n              }`}\n            />\n            <span className=\"text-sm font-medium capitalize text-gray-800\">\n              {status}\n            </span>\n          </div>\n          <span className=\"text-sm text-gray-600\">\n            Reported on: {formatDate(createdAt)}\n          </span>\n        </div>\n\n        {/* Reporter + Reported */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6\">\n          {[reportedUser, reporter].map((user, idx) => (\n            <div\n              key={idx}\n              className=\"bg-white rounded-xl border border-gray-200 p-5 flex flex-col items-center text-center hover:shadow-md transition\"\n            >\n              <img\n                src={\n                  user?.avatar ||\n                  user?.profileImage ||\n                  '/default-profile.png'\n                }\n                alt=\"User\"\n                className=\"w-20 h-20 rounded-full border object-cover shadow\"\n              />\n              <h3 className=\"font-semibold text-lg text-gray-800 mt-3\">\n                {user?.name || user?.fullName || 'Unnamed User'}\n              </h3>\n              <p className=\"text-xs text-blue-500 mt-1\">\n                {idx === 1 ? 'Reporter' : 'Reported User'}\n              </p>\n            </div>\n          ))}\n        </div>\n\n        {/* Reason + Description */}\n        <div className=\"mb-4\">\n          <h4 className=\"font-semibold text-base mb-1\">Reason:</h4>\n          <p className=\"text-sm text-gray-700 leading-relaxed bg-gray-100 border border-gray-200 rounded-lg p-4 mt-1\">\n            {title}\n          </p>\n\n          <h4 className=\"font-semibold text-base mb-1 mt-4\">Description:</h4>\n          <p className=\"text-sm text-gray-700 leading-relaxed bg-gray-100 border border-gray-200 rounded-lg p-4 mt-1\">\n            {description}\n          </p>\n        </div>\n\n        {/* Attached Images */}\n        {image?.length > 0 && (\n          <div className=\"mb-4\">\n            <h4 className=\"text-sm font-semibold text-gray-800 mb-2\">\n              Attached Screenshot{image.length > 1 ? 's' : ''}:\n            </h4>\n            <div className=\"flex flex-wrap gap-2\">\n              {image.map((img, idx) => (\n                <a\n                  key={idx}\n                  href={img}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-sm text-blue-600 bg-blue-100 hover:bg-blue-200 px-3 py-1 rounded-md transition\"\n                >\n                  üìé Screenshot_{idx + 1}.jpg\n                </a>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Approve / Reject Buttons */}\n        <div className=\"flex justify-end gap-4 mt-8\">\n          <button\n            onClick={() => handleAction('approve')}\n            className=\"bg-green-500 hover:bg-green-600 text-white px-5 py-2 rounded-full font-semibold shadow\"\n          >\n            Approve\n          </button>\n\n          <button\n            onClick={() => handleAction('reject')}\n            className=\"bg-red-500 hover:bg-red-600 text-white px-5 py-2 rounded-full font-semibold shadow\"\n          >\n            Reject\n          </button>\n        </div>\n      </div>\n\n      {/* Animation */}\n      <style jsx>{`\n        .animate-scaleIn {\n          animation: scaleIn 0.3s ease-out;\n        }\n        @keyframes scaleIn {\n          0% {\n            transform: scale(0.95);\n            opacity: 0;\n          }\n          100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ReportModal;\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;;AAEA,MAAM,cAAc,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE;IACtD,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,KAAK,EACL,WAAW,EACX,KAAK,EACL,MAAM,EACN,SAAS,EACV,GAAG;IAEJ,MAAM,aAAa,CAAC,OAAS,IAAI,KAAK,MAAM,kBAAkB;IAE9D,8BAA8B;IAC9B,MAAM,sBAAsB,CAAC;QAC3B,IAAI,EAAE,MAAM,CAAC,EAAE,KAAK,YAAY;YAC9B;QACF;IACF;IAEA,WAAW;IACX,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,gMAAO,CAAC,qBAAqB,EAAE,OAAO,GAAG,EAAE,EAAE;gBACtE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,QAAQ,WAAW,YAAY,aAAa;gBAC9C;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,GAAG,CAAC,iBAAiB;YAE7B,IAAI,KAAK,OAAO,EAAE;gBAChB,MAAM,CAAC,gBAAgB,EAAE,WAAW,YAAY,aAAa,YAAY;gBACzE;gBACA;YACF,OAAO;gBACL,MAAM,KAAK,OAAO,IAAI;YACxB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;QACR;IACF;IAEA,qBACE,qKAAC;QACC,IAAG;QACH,SAAS;kDACC;;0BAEV,qKAAC;gBAEC,SAAS,CAAC,IAAM,EAAE,eAAe;0DADvB;;kCAKV,qKAAC;kEAAc;;0CACb,qKAAC;0EAAc;;kDACb,qKAAC;kFACY,CAAC,qBAAqB,EAC/B,WAAW,aACP,eACA,WAAW,aACX,iBACA,iBACJ;;;;;;kDAEJ,qKAAC;kFAAe;kDACb;;;;;;;;;;;;0CAGL,qKAAC;0EAAe;;oCAAwB;oCACxB,WAAW;;;;;;;;;;;;;kCAK7B,qKAAC;kEAAc;kCACZ;4BAAC;4BAAc;yBAAS,CAAC,GAAG,CAAC,CAAC,MAAM,oBACnC,qKAAC;0EAEW;;kDAEV,qKAAC;wCACC,KACE,MAAM,UACN,MAAM,gBACN;wCAEF,KAAI;kFACM;;;;;;kDAEZ,qKAAC;kFAAa;kDACX,MAAM,QAAQ,MAAM,YAAY;;;;;;kDAEnC,qKAAC;kFAAY;kDACV,QAAQ,IAAI,aAAa;;;;;;;+BAhBvB;;;;;;;;;;kCAuBX,qKAAC;kEAAc;;0CACb,qKAAC;0EAAa;0CAA+B;;;;;;0CAC7C,qKAAC;0EAAY;0CACV;;;;;;0CAGH,qKAAC;0EAAa;0CAAoC;;;;;;0CAClD,qKAAC;0EAAY;0CACV;;;;;;;;;;;;oBAKJ,OAAO,SAAS,mBACf,qKAAC;kEAAc;;0CACb,qKAAC;0EAAa;;oCAA2C;oCACnC,MAAM,MAAM,GAAG,IAAI,MAAM;oCAAG;;;;;;;0CAElD,qKAAC;0EAAc;0CACZ,MAAM,GAAG,CAAC,CAAC,KAAK,oBACf,qKAAC;wCAEC,MAAM;wCACN,QAAO;wCACP,KAAI;kFACM;;4CACX;4CACgB,MAAM;4CAAE;;uCANlB;;;;;;;;;;;;;;;;kCAcf,qKAAC;kEAAc;;0CACb,qKAAC;gCACC,SAAS,IAAM,aAAa;0EAClB;0CACX;;;;;;0CAID,qKAAC;gCACC,SAAS,IAAM,aAAa;0EAClB;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBX;uCAEe"}},
    {"offset": {"line": 751, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/My%20PC%20Buddy/Downloads/matrimonial-main/matrimonial-main/src/component/reportedcontent/ReportedContent.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useMemo } from \"react\";\nimport { Eye } from \"lucide-react\";\nimport ReportModal from \"./ReportModal\";\n\n/* -------------------------------\n PERFECT DIAMOND SORT ICON\n----------------------------------*/\nconst SortArrow = ({ active, direction }) => {\n  return (\n    <div className=\"flex flex-col items-center justify-center ml-1 mt-[2px] leading-[0.4]\">\n      {/* UP ARROW */}\n      <div\n        className={`w-2 h-2 rotate-45 border-t-2 border-l-2 ${\n          active && direction === \"asc\"\n            ? \"border-gray-700\"\n            : \"border-gray-400\"\n        }`}\n      ></div>\n\n      {/* DOWN ARROW */}\n      <div\n        className={`w-2 h-2 rotate-45 border-b-2 border-r-2 mt-[3px] ${\n          active && direction === \"desc\"\n            ? \"border-gray-700\"\n            : \"border-gray-400\"\n        }`}\n      ></div>\n    </div>\n  );\n};\n\nconst ReportedContent = ({\n  report,\n  currentPage,\n  totalPages,\n  setCurrentPage,\n  refreshReports,\n}) => {\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [sortConfig, setSortConfig] = useState({ key: null, direction: \"asc\" });\n\n  /* -------------------------------\n          SORTING FUNCTION\n  ----------------------------------*/\n  const sortBy = (key) => {\n    setSortConfig((prev) => ({\n      key,\n      direction:\n        prev.key === key && prev.direction === \"asc\" ? \"desc\" : \"asc\",\n    }));\n  };\n\n  /* -------------------------------\n             SORT LOGIC\n  ----------------------------------*/\n  const sortedData = useMemo(() => {\n    if (!sortConfig.key) return report;\n\n    return [...report].sort((a, b) => {\n      let x = \"\",\n        y = \"\";\n\n      switch (sortConfig.key) {\n        case \"reportedUser\":\n          x = a.reportedUser?.fullName || a.reportedUser?.name || \"\";\n          y = b.reportedUser?.fullName || b.reportedUser?.name || \"\";\n          break;\n\n        case \"reportDate\":\n          x = new Date(a.createdAt);\n          y = new Date(b.createdAt);\n          break;\n\n        case \"reporterUser\":\n          x = a.reporter?.fullName || a.reporter?.name || \"\";\n          y = b.reporter?.fullName || b.reporter?.name || \"\";\n          break;\n      }\n\n      if (x < y) return sortConfig.direction === \"asc\" ? -1 : 1;\n      if (x > y) return sortConfig.direction === \"asc\" ? 1 : -1;\n\n      return 0;\n    });\n  }, [report, sortConfig]);\n\n  /* -------------------------------\n           SAFE GETTER FUNCTIONS\n    ----------------------------------*/\n  const getPhoto = (u) => u?.profileImage || \"/default-profile.png\";\n  const getName = (u) => u?.fullName || u?.name || \"Unknown User\";\n  const getId = (u) => (u?.userId ? `#${u.userId}` : \"#------\");\n  const getGender = (u) => u?.gender || \"N/A\";\n\n  const getStatusDot = (s) => {\n    s = s?.toLowerCase();\n    return s === \"approved\"\n      ? \"bg-green-500\"\n      : s === \"pending\"\n      ? \"bg-yellow-500\"\n      : \"bg-red-500\";\n  };\n\n  /* -------------------------------\n                UI\n  ----------------------------------*/\n  return (\n    <div className=\"bg-white  px-1\">\n\n      {/* LIGHT TOP LINE LIKE SCREENSHOT */}\n      <div className=\"w-full h-[1px] bg-gray-500 mb-2\"></div>\n\n      <table className=\"w-full text-sm text-left\">\n        <thead>\n          <tr className=\" border-b border-gray-500\">\n\n            {/* REPORTED USER */}\n            <th\n              className=\"py-3 px-2 cursor-pointer font-semibold\"\n              onClick={() => sortBy(\"reportedUser\")}\n            >\n              <div className=\"flex items-center gap-1\">\n                Reported User\n                <SortArrow\n                  active={sortConfig.key === \"reportedUser\"}\n                  direction={sortConfig.direction}\n                />\n              </div>\n            </th>\n\n            {/* REPORT DATE */}\n            <th\n              className=\"py-3 px-2 cursor-pointer font-semibold\"\n              onClick={() => sortBy(\"reportDate\")}\n            >\n              <div className=\"flex items-center gap-1\">\n                Report Date\n                <SortArrow\n                  active={sortConfig.key === \"reportDate\"}\n                  direction={sortConfig.direction}\n                />\n              </div>\n            </th>\n\n            {/* REPORTER USER */}\n            <th\n              className=\"py-3 px-2 cursor-pointer font-semibold\"\n              onClick={() => sortBy(\"reporterUser\")}\n            >\n              <div className=\"flex items-center gap-1\">\n                Reporter User\n                <SortArrow\n                  active={sortConfig.key === \"reporterUser\"}\n                  direction={sortConfig.direction}\n                />\n              </div>\n            </th>\n\n            <th className=\"py-3 px-2 font-semibold\">Reason</th>\n            <th className=\"py-3 px-2 font-semibold\">Status</th>\n            <th className=\"py-3 px-2 font-semibold\">Actions</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {sortedData.map((item) => (\n            <tr\n              key={item._id}\n              className=\"border-t border-gray-300 hover:bg-gray-50 transition\"\n            >\n              {/* REPORTED USER */}\n              <td className=\"py-[14px] px-3 align-middle\">\n                <div className=\"flex items-center gap-3\">\n                  <img\n                    src={getPhoto(item.reportedUser)}\n                    className=\"w-11 h-11 rounded-full object-cover\"\n                  />\n                  <div>\n                    <div className=\"font-semibold\">\n                      {getName(item.reportedUser)}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">\n                      {getId(item.reportedUser)} /{\" \"}\n                      {getGender(item.reportedUser)}\n                    </div>\n                  </div>\n                </div>\n              </td>\n\n              {/* REPORT DATE */}\n              <td className=\"py-[14px] px-3 align-middle\">\n                {new Date(item.createdAt).toLocaleDateString(\"en-GB\", {\n                  day: \"2-digit\",\n                  month: \"long\",\n                  year: \"numeric\",\n                })}\n              </td>\n\n              {/* REPORTER USER */}\n              <td className=\"py-[14px] px-3 align-middle\">\n                <div className=\"flex items-center gap-3\">\n                  <img\n                    src={getPhoto(item.reporter)}\n                    className=\"w-11 h-11 rounded-full object-cover\"\n                  />\n                  <div>\n                    <div className=\"font-semibold\">\n                      {getName(item.reporter)}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">\n                      {getId(item.reporter)} / {getGender(item.reporter)}\n                    </div>\n                  </div>\n                </div>\n              </td>\n\n              {/* REASON */}\n              <td className=\"py-[14px] px-3 align-middle\">\n                {item.title}\n              </td>\n\n              {/* STATUS */}\n              <td className=\"py-[14px] px-3 align-middle\">\n                <div className=\"flex items-center gap-2\">\n                  <span\n                    className={`w-3 h-3 rounded-full ${getStatusDot(\n                      item.status\n                    )}`}\n                  ></span>\n                  <span>{item.status}</span>\n                </div>\n              </td>\n\n              {/* ACTIONS */}\n              <td className=\"py-[14px] px-3 align-middle\">\n                <div className=\"flex items-center gap-3\">\n                  {/* <button className=\"bg-red-500 text-white px-4 py-1 rounded\">\n                    Reject\n                  </button>\n\n                  <button className=\"bg-green-600 text-white px-4 py-1 rounded\">\n                    Approve\n                  </button> */}\n\n                  <button\n                    className=\"text-gray-700\"\n                    onClick={() => setSelectedReport(item)}\n                  >\n                    View\n                  </button>\n                </div>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {/* PAGINATION EXACTLY LIKE SCREENSHOT */}\n      <div className=\"flex justify-center items-center gap-3 mt-4 text-sm\">\n        <button\n          disabled={currentPage === 1}\n          onClick={() => setCurrentPage(currentPage - 1)}\n        >\n          ‚óÄ Prev\n        </button>\n\n        {[...Array(totalPages)].map((_, p) => (\n          <button\n            key={p}\n            onClick={() => setCurrentPage(p + 1)}\n            className={`${\n              currentPage === p + 1\n                ? \"font-bold underline\"\n                : \"text-gray-600\"\n            }`}\n          >\n            {p + 1}\n          </button>\n        ))}\n\n        <span>.....</span>\n\n        <button\n          disabled={currentPage === totalPages}\n          onClick={() => setCurrentPage(currentPage + 1)}\n        >\n          Next ‚ñ∂\n        </button>\n      </div>\n\n      {selectedReport && (\n        <ReportModal\n          report={selectedReport}\n          onClose={() => setSelectedReport(null)}\n          refreshReports={refreshReports}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ReportedContent;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1241, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/My%20PC%20Buddy/Downloads/matrimonial-main/matrimonial-main/src/component/reportedcontent/ReportDashboard.js"],"sourcesContent":["'use client';\nimport React, { useEffect, useState } from 'react';\nimport { Search } from 'lucide-react';\nimport ReportedContent from './ReportedContent';\nimport { API_URL } from '../api/apiURL';\n\nconst ReportDashboard = () => {\n  const [reports, setReports] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [genderFilter, setGenderFilter] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const itemsPerPage = 10;\n\n  const fetchReports = async () => {\n    try {\n      const res = await fetch(\n        `${API_URL}/admin/report-analize?search=${searchTerm}&status=${statusFilter}&gender=${genderFilter}&page=${currentPage}&limit=${itemsPerPage}`\n      );\n\n      const data = await res.json();\n\n      setReports(data.reports || []);\n      setTotalPages(data.totalPages || 1);\n\n    } catch (err) {\n      console.error('Failed to fetch reports:', err);\n    }\n  };\n\n  useEffect(() => {\n    fetchReports();\n  }, [searchTerm, statusFilter, genderFilter, currentPage]);\n\n  // ‚≠ê TOP CARDS ‚Äî DATA DIRECTLY FROM TABLE DATA ‚≠ê\n  const totalReports = reports.length;\n\n  const pendingReports = reports.filter(\n    (r) => r.status?.toLowerCase() === 'pending'\n  ).length;\n\n  const reviewedReports = reports.filter(\n    (r) => r.status?.toLowerCase() === 'reviewed' || r.status?.toLowerCase() === 'approved'\n  ).length;\n\n  const blockedReports = reports.filter(\n    (r) => r.status?.toLowerCase() === 'blocked'\n  ).length;\n\n  const formatK = (num) =>\n    num >= 1000 ? (num / 1000).toFixed(1) + ' K' : num;\n\n  return (\n    <div className=\"p-3 sm:p-4 md:p-5 lg:p-6\">\n\n      {/* ‚≠ê TOP CARDS ‚Äî AUTO FROM TABLE DATA ‚≠ê */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5 md:gap-6 px-2 sm:px-4 md:px-6 lg:px-10 mb-8 sm:mb-10\">\n        {[\n          { label: 'Total Reports This Week', value: totalReports },\n          { label: 'Pending Report Review', value: pendingReports },\n          { label: 'Action Taken', value: reviewedReports },\n          { label: 'Blocked User', value: blockedReports },\n        ].map(({ label, value }) => (\n          <div\n            key={label}\n            className=\"bg-white border border-gray-300 rounded-xl shadow-sm p-4 sm:p-5 md:p-6 flex flex-col justify-center items-center\"\n            style={{ minHeight: \"140px\" }}\n          >\n            <p className=\"text-sm sm:text-base md:text-lg font-semibold text-gray-800 text-center px-2\">{label}</p>\n            <p className=\"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mt-3 sm:mt-4\">{formatK(value)}</p>\n          </div>\n        ))}\n      </div>\n\n      {/* SEARCH + FILTER + TABLE */}\n      <div className=\"border mt-5 p-3 sm:p-4 bg-white border-gray-400 rounded-lg sm:rounded-xl\">\n\n        {/* SEARCH BAR */}\n        <div className=\"bg-gray-100 p-2 sm:p-3 rounded-lg shadow-sm border border-gray-400 mb-2 sm:mb-3\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4\">\n\n            <div className=\"relative w-full md:max-w-sm\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by name or email\"\n                value={searchTerm}\n                onChange={(e) => {\n                  setCurrentPage(1);\n                  setSearchTerm(e.target.value);\n                }}\n                className=\"w-full pl-10 pr-4 py-2 bg-white border border-gray-400 rounded-lg focus:ring-2 focus:ring-gray-200 text-sm sm:text-base\"\n              />\n            </div>\n\n            {/* FILTERS */}\n            <div className=\"flex flex-wrap gap-2 sm:gap-3\">\n              <select\n                value={statusFilter}\n                onChange={(e) => {\n                  setCurrentPage(1);\n                  setStatusFilter(e.target.value);\n                }}\n                className=\"px-3 py-2 border bg-gray-300 border-gray-400 rounded-lg text-sm sm:text-base min-w-[120px]\"\n              >\n                <option value=\"all\">Status</option>\n                <option value=\"pending\">Pending</option>\n                <option value=\"approved\">Approved</option>\n                <option value=\"blocked\">Blocked</option>\n              </select>\n\n              <select\n                value={genderFilter}\n                onChange={(e) => {\n                  setCurrentPage(1);\n                  setGenderFilter(e.target.value);\n                }}\n                className=\"px-3 py-2 border bg-gray-300 border-gray-400 rounded-lg text-sm sm:text-base min-w-[120px]\"\n              >\n                <option value=\"\">Gender</option>\n                <option value=\"Male\">Male</option>\n                <option value=\"Female\">Female</option>\n              </select>\n            </div>\n\n          </div>\n        </div>\n\n        {/* TABLE */}\n        <ReportedContent\n          report={reports}\n          currentPage={currentPage}\n          totalPages={totalPages}\n          setCurrentPage={setCurrentPage}\n          itemsPerPage={itemsPerPage}\n          refreshReports={fetchReports}\n        />\n\n      </div>\n\n    </div>\n  );\n};\n\nexport default ReportDashboard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/My%20PC%20Buddy/Downloads/matrimonial-main/matrimonial-main/pages/reportedcontent/index.js"],"sourcesContent":["import React from 'react';\nimport Search from '@/src/component/reportedcontent/Search';\nimport ReportDashboard from '@/src/component/reportedcontent/ReportDashboard';\n\nconst ReportDashboardPage = () => {\n  return (\n    <div className=\"h-screen flex flex-col\">\n\n      {/* Sticky Top Bar */}\n      <div className=\"shadow-md sticky top-0 z-30 bg-[#f5f5f5]\">\n        <Search />\n      </div>\n\n      {/* Scrollable bottom area */}\n      <div className=\"flex-1 overflow-y-auto\">\n        <ReportDashboard />\n      </div>\n\n    </div>\n  );\n};\n\nexport default ReportDashboardPage;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,sBAAsB;IAC1B,qBACE,qKAAC;QAAI,WAAU;;0BAGb,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC,4MAAM;;;;;;;;;;0BAIT,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC,qNAAe;;;;;;;;;;;;;;;;AAKxB;uCAEe"}}]
}